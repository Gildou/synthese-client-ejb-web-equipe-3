<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta charset="UTF-8" />
	<title>CalculPrixMagasin</title>
	<h:outputStylesheet library="css" name="style.css" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
</h:head>
<body>

	<div class="container">
		<h1>Calcul du Prix d'un Magasin</h1>
		<h:form>
			<h:panelGrid columns="2" cellpadding="5">
				<f:validateBean>
					<h:outputLabel value="Magasin" />
					<h:selectOneMenu value="#{magasinBean.magasin.idMagasin}">
						<f:selectItem itemValue="0" itemLabel="Choisir un magasin" />
						<f:selectItems value="#{produitBean.getMagasins()}" var="m"
							itemValue="#{m.idMagasin}"
							itemLabel="[#{m.idMagasin}] #{m.nomMagasin} #{m.codeMagasin}, #{m.prixDuLocal}" />
					</h:selectOneMenu>
					<h:outputLabel value="Produit" />
					<h:selectOneMenu value="#{produitBean.Produit.idProduit}">
						<f:selectItem itemValue="0" itemLabel="Choisir un produit" />
						<f:selectItems value="#{produitBean.listerLotissements()}"
							var="p" itemValue="#{p.idProduit}"
							itemLabel="#{p.nomProduit},#{p.stock},#{p.prix}" />
					</h:selectOneMenu>
				</f:validateBean>
			</h:panelGrid>
			<h:commandButton action="#{lotissementBean.acheterLotissement}"
				value="Attribuer" />

			<div>
				<h2>Lotissements vendus</h2>
				<h:dataTable value="#{lotissementBean.listerVendus()}" var="l"
					class="table table-striped">
					<h:column>
						<f:facet name="header">ID</f:facet>
						<h:outputText value="#{l.idLot}" />
					</h:column>
					<h:column>
						<f:facet name="header">Numéro</f:facet>
						<h:outputText value="#{l.numLot}" />
					</h:column>
					<h:column>
						<f:facet name="header">Adresse</f:facet>
						<h:outputText value="#{l.adresseLot}" />
					</h:column>
					<h:column>
						<f:facet name="header">Date de création</f:facet>
						<h:outputText value="#{l.dateCreation}" />
					</h:column>
					<h:column>
						<f:facet name="header">ID du propriétaire</f:facet>
						<h:outputText value="#{l.personne.idPersonne}" />
					</h:column>
<!-- 					<h:column> -->
<!-- 						<f:facet name="header">Modifier</f:facet> -->
<!-- 						<h:commandLink action="#{lotissementBean.getLotissement(l.idLot)}" -->
<!-- 							value="Modifier"> -->
<!-- 							<f:setPropertyActionListener -->
<!-- 								target="#{lotissementBean.lotissement}" value="#{l}"></f:setPropertyActionListener> -->
<!-- 						</h:commandLink> -->
<!-- 					</h:column> -->
<!-- 					<h:column> -->
<!-- 						<f:facet name="header">Supprimer</f:facet> -->
<!-- 						<h:commandLink -->
<!-- 							action="#{lotissementBean.supprimerLotissement2(l.idLot)}" -->
<!-- 							value="Supprimer"> -->
<!-- 							<f:setPropertyActionListener value="#{l.idLot}" -->
<!-- 								target="#{lotissementBean.lotissement.idLot}"></f:setPropertyActionListener> -->
<!-- 						</h:commandLink> -->
<!-- 					</h:column> -->
				</h:dataTable>
			</div>

			<div>
				<h2>Lotissements à vendre</h2>
				<h:dataTable value="#{lotissementBean.listerAVendre()}" var="l"
					class="table table-striped">
					<h:column>
						<f:facet name="header">ID</f:facet>
						<h:outputText value="#{l.idLot}" />
					</h:column>
					<h:column>
						<f:facet name="header">Numéro</f:facet>
						<h:outputText value="#{l.numLot}" />
					</h:column>
					<h:column>
						<f:facet name="header">Adresse</f:facet>
						<h:outputText value="#{l.adresseLot}" />
					</h:column>
					<h:column>
						<f:facet name="header">Date de création</f:facet>
						<h:outputText value="#{l.dateCreation}" />
					</h:column>
					<h:column>
						<f:facet name="header">ID du propriétaire</f:facet>
						<h:outputText value="#{l.personne.idPersonne}" />
					</h:column>
<!-- 					<h:column> -->
<!-- 						<f:facet name="header">Modifier</f:facet> -->
<!-- 						<h:commandLink action="#{lotissementBean.getLotissement(l.idLot)}" -->
<!-- 							value="Modifier"> -->
<!-- 							<f:setPropertyActionListener -->
<!-- 								target="#{lotissementBean.lotissement}" value="#{l}"></f:setPropertyActionListener> -->
<!-- 						</h:commandLink> -->
<!-- 					</h:column> -->
<!-- 					<h:column> -->
<!-- 						<f:facet name="header">Supprimer</f:facet> -->
<!-- 						<h:commandLink -->
<!-- 							action="#{lotissementBean.supprimerLotissement2(l.idLot)}" -->
<!-- 							value="Supprimer"> -->
<!-- 							<f:setPropertyActionListener value="#{l.idLot}" -->
<!-- 								target="#{lotissementBean.lotissement.idLot}"></f:setPropertyActionListener> -->
<!-- 						</h:commandLink> -->
<!-- 					</h:column> -->
				</h:dataTable>
			</div>

		</h:form>
	</div>


</body>
</html>